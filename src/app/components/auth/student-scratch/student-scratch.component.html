<!--<div *ngIf="commondata.loader.value" id="pre-loader">-->
<!--    <img alt="" src="assets/images/pre-loader/loader-01.svg">-->
<!--</div>-->
<div class="container-fluid" id="yourTarget">

    <div class="card">
        <div class="card-body">
            <div class="row pr-3 my-1 a-flex align-items-center">
                <div class="col-md-4 mt-2">
                    <h4 class="contenttext mb-0">{{contentName}}</h4>
                </div>
                <div class="col-md-8 px-0 pdf-assign-btn">
                    <button (click)="buttonClicked = 'submit';submitPopup()" *ngIf="studentContentStatus == '1' || studentContentStatus == '2'" class="btn btn-primary pull-right ml-2">Submit</button>
                    <button (click)="saveAnswer('2', 'noExit', true, 'same')" *ngIf="studentContentStatus == '1' || studentContentStatus == '2'" class="btn btn-outline-primary pull-right ml-2">Save</button>
                    <button (click)="saveAnswer('2', 'exit', true, 'same')" *ngIf="studentContentStatus == '1' || studentContentStatus == '2'" class="btn btn-outline-primary pull-right">Save and Exit</button>
                    <button *ngIf="linkdata?.length != '0'" class="btn btn-primary pull-right mr-2" (click)="otherlink()">Resources</button>
<!--                    <button (click)="backbutton()" *ngIf="studentContentStatus != '1' && studentContentStatus != '2'" class="btn btn-outline-primary pull-right ml-2">Back</button>-->
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 mr-0 pr-0 pb-2">
            <div class="scoll-component">
                <div class="total-items">
                    <span>{{totalAns.length}} Questions</span>
                </div>
                <div class="scoll-container">
                    <div #scrollContent id="scrollContent" class="scroll-content" (scroll)="onScroll()">
                        <button #leftArrow class="arrow left-arrow arrowStyle" (click)="onClickScrollLeft()"><<</button>

                        <div class="scroll-items" *ngFor="let list of totalAns; let i = index">
                            <span class="round-question pl-2 pr-2 pt-1 pb-1 ml-3 my-2" (click)="checkWhetherSaveIsNeeded(list, i, 'qnsNumber')"
                                  [ngClass]="{'bg-green':checkQuestionId(list)?.is_correct == 'true', 'bg-partially': checkQuestionId(list)?.is_correct == 'partially-completed',
                                  'bg-red':checkQuestionId(list)?.is_correct == 'false' || !correctAnswer, 'black':(checkQuestionId(list)?.is_correct == '' || checkQuestionId(list)?.is_correct == null) && showQuestion != i,
                                  'selectedQuestion':(checkQuestionId(list)?.is_correct == '' || checkQuestionId(list)?.is_correct == null) && showQuestion == i }">
                                {{i + 1}}
                            </span>
                        </div>

                        <button #rightArrow class="arrow right-arrow arrowStyle" (click)="onClickScrollRight()">>></button>
                    </div>
                </div>
            </div>

            <div class="col-12 mt-3" *ngIf="scratchQuestionData.file_text != ''">
                <div class="card ml-3 mr-0" style="overflow-y: auto; max-height: 25vh; border-bottom: 3px solid #e6baea !important; border-right: 3px solid #e6baea !important">
                    <div class="card-body py-3 px-4">
                        <h4 class="mb-3 font-weight-bold">Description:</h4>
                        <div class="ml-2" >
                            <span [innerHTML]="scratchQuestionData.file_text | sanitizeHtml"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section>
        <div class="row view-question" *ngFor="let item of totalAns; let i = index; let last = last">
            <div class="col-md-9 mb-2" *ngIf="showQuestion == i">
                <div class="container-fluid">
                    <div *ngIf="checkQuestionId(item)?.is_correct == 'true' || checkQuestionId(item)?.is_correct == 'false' || !correctAnswer">
                        <div class="alert alert-{{checkQuestionId(item)?.is_correct == 'false'|| !correctAnswer ? 'danger' : 'success'}} alert-dismissible fade show">
                            <strong> {{checkQuestionId(item)?.is_correct == 'false' || !correctAnswer ? 'You have entered Incorrect Answer !' : 'Great Response ! You have entered Correct Answer'}}</strong> .
                        </div>
                    </div>
                    <div class="card pl-5 pr-3 py-5">
                        <div class="card-body">
                            <div class="row d-flex justify-content-start">
                                <div>
                                    <button class="btn-primary w-auto h-20 pl-2 pr-2 pt-1 pb-1">{{i + 1}}</button>
                                </div>
                                <div class="pl-4 align-self-center">
                                    <div class="inner" *ngIf="item.question != '' && item.question_type_id != 24"><b><h3 [innerHTML]="item.question | sanitizeHtml" class="mb-0 overflow-auto"></h3></b></div>
                                    <div *ngIf="item.question != '' && item.question_type_id == 24" class="mx-3 custom-card question-page1" style="overflow-x: scroll;max-height: 60vh;">
                                        <span [innerHTML]="item.editor_context | sanitizeHtml" class="innerhtml-margin-clear"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div *ngIf="item.question_type_id == 1 || item.question_type_id == 2" [ngClass]="{'div-disable': checkDisableConditionForQns(item)}" class="mt-4">
                                    <div class="col-md-12 mb-2">
                                        <div (click)="cfsGetMultiChoice(i, k, item)" *ngFor="let option of item.given_answer; let k = index" [ngClass]="{'student-selected' : k.toString() == option.isSelected}" class="dropdown-list overflow-auto col-md-5 mb-3 mx-3 p-2" style="max-height: 20rem"><span [innerHTML]="option.options | sanitizeHtml" class="remove-margin-bottom"></span></div>
                                    </div>
                                    <div class="col-md-12 mt-4 mb-2" *ngIf="item.is_correct == 'true' || item.is_correct == 'false'">
                                        <label><strong>Correct Answer</strong></label>
                                        <div *ngFor="let option of item.answer; let k = index" [ngClass]="{'student-selected' : option.correctAnswer == 'on'}" class="dropdown-list col-md-5 mb-3 mx-3 p-2 overflow-y-scroll" style="max-height: 20rem">
                                            <span [innerHTML]="item.options[k].options | sanitizeHtml" class="remove-margin-bottom"></span>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="item.question_type_id == 5 || item.question_type_id == 7" [ngClass]="{'div-disable': checkDisableConditionForQns(item)}" class="mt-4 px-3 table-flexible">
                                    <table class="table table-bordered text-center">
                                        <thead>
                                        <tr>
                                            <th>Questions</th>
                                            <th *ngFor="let list of item.answer; let k=index" [innerHTML]="list | sanitizeHtml" class="remove-margin-bottom" id="{{'columnId' + i}}"></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let list of item.given_answer; let j=index">
                                            <td [innerHTML]="list.options | sanitizeHtml" class="remove-margin-bottom"></td>
                                            <td *ngFor="let ans of item.answer; let k=index">
                                                <input (click)="cfsGetChooseTable(item, i, j, k)" *ngIf="item.question_type_id == '5'" [checked]="this.totalAns[i].given_answer[j].isSelected == '' ? false : this.totalAns[i].given_answer[j].isSelected == k.toString()" class="cursor radio_animated" id="{{j}}chooseSingle{{i}}" name="{{i}}choosesingle{{j}}corect" type="radio">
                                                <input (click)="cfsGetChooseTable(item, i, j, k)" *ngIf="item.question_type_id == '7'" [checked]="splitMultiChoose(this.totalAns[i].given_answer[j].isSelected, k)" id="{{j}}chooseMulti{{i}}" class="cursor"  type="checkbox">
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>


                                    <div class="col-md-12 my-4 px-0 table-flexible" *ngIf="item.is_correct == 'true' || item.is_correct == 'false'">
                                        <label><strong>Correct Answer</strong></label>
                                        <table class="table table-bordered text-center div-disable">
                                            <thead>
                                            <tr>
                                                <th>Questions</th>
                                                <th *ngFor="let list of item.answer; let k=index" [innerHTML]="list | sanitizeHtml" class="remove-margin-bottom"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr *ngFor="let list of item.given_answer; let j=index">
                                                <td [innerHTML]="list.options | sanitizeHtml" class="remove-margin-bottom"></td>
                                                <td *ngFor="let ans of item.answer; let k=index">
                                                    <input *ngIf="item.question_type_id == '5'" [checked]="item.heading_option[j].correctActive === k" class="radio_animated" name="{{i}}choosesingleCorrect{{j}}corect" type="radio">
                                                    <input *ngIf="item.question_type_id == '7'" [checked]="patchCorrectMultiChoiceAnswer(item.heading_option, k , j)" id="chooseMultipass{{i}}{{j}}{{k}}" type="checkbox">
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                                <div *ngIf="item.question_type_id == 9" class="mt-4" [ngClass]="{'div-disable': checkDisableConditionForQns(item)}">
                                    <div *ngFor="let data of item.given_answer; let j = index" class="col-md-6 mt-3 mb-3">
                                        <label>Dropdown - {{j+1}}</label>
                                        <div class="col-md-11">
                                            <div [id]="dropdownId(i, j)" [innerHTML]="data.isSelected === '' ? 'Select Answer' : data.options[data.isSelected].correctAnswer | sanitizeHtml" class="col-md-12 bg-white innerhtml-margin-clear p-2 dropdown-border dropdown-toggle d-flex justify-content-between" data-toggle="dropdown"></div>
                                            <div class="col-md-11 dropdown-menu">
                                                <span (click)="cfsGetDropdown($event, i, j, '', 'Select Answer')" class="dropdown-item dropdown-link cursor">Select Answer</span>
                                                <span (click)="cfsGetDropdown($event, i, j, k, list.listOption)"
                                                      *ngFor="let list of data.options; let k = index"
                                                      [innerHTML]="list.listOption | sanitizeHtml"
                                                      class="dropdown-item dropdown-link innerhtml-margin-clear"
                                                      style="overflow: scroll; overflow-y: hidden"></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mt-5 px-0" *ngIf="item.is_correct == 'true' || item.is_correct == 'false'">
                                        <label><b>Correct Answer</b></label>
                                        <div *ngFor="let data of item.answer; let j = index" class="col-md-6 mt-2 mb-3">
                                            <label>Dropdown - {{j+1}}</label>
                                            <div class="col-md-11">
                                                <div class="col-md-12 bg-white innerhtml-margin-clear p-2 dropdown-border dropdown-toggle d-flex justify-content-between" data-toggle="dropdown" id="dropdown{{j}}"></div>
                                                <div class="col-md-12 dropdown-menu">
                                                    <span class="dropdown-item dropdown-link overflow-auto">Select Answer</span>
                                                    <span *ngFor="let option of item.options; let k = index" [innerHTML]="option.listOption | sanitizeHtml" class="dropdown-item overflow-auto dropdown-link innerhtml-margin-clear"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="item.question_type_id == 10" class="mt-4" [ngClass]="{'div-disable': checkDisableConditionForQns(item)}">
                                    <div *ngFor="let data of item.given_answer; let j = index" class="col-md-6 mt-3 mb-3">
                                        <label>Input - {{j+1}}</label>
                                        <input (input)="cfsGetInput($event, i, j, item)" *ngIf="item.editor_type == 1" placeholder="Enter the Answer"
                                               [readOnly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                               [value]="data.isSelected" class="form-control" type="text">
                                        <app-tiny-mice (emitEditorValue)="cfsGetInput($event, i, j, item)" *ngIf="item.editor_type != 1" [editorPatchValue]= "data.isSelected == '' ? false : data.isSelected"
                                                       [height]="100"
                                                       [id]="i+'input'+j"
                                                       [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                       [showDropBtn]="false"
                                                       [showInputBtn]="false"
                                                       class="mt-2">
                                        </app-tiny-mice>
                                    </div>

                                    <div class="col-md-12 mt-5 px-0" *ngIf="item.is_correct == 'true' || item.is_correct == 'false'">
                                        <label><b>Correct Answer</b></label>
                                        <div *ngFor="let data of item.options; let j = index" class="col-md-6 mt-3 mb-3">
                                            <label>Input - {{j+1}}</label>
                                            <div class="form-span">
                                                <div [innerHTML]="data.options[0].value | sanitizeHtml"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="item.question_type_id == 16" class="mt-4" [ngClass]="{'div-disable': checkDisableConditionForQns(item)}">
                                    <div class="col-md-6">
                                        <div (cdkDropListDropped)="droppedCorrect($event, i)" cdkDropList class="col-12">
                                            <div *ngFor="let list of item.given_answer; let k=index" class="input-group mb-3 mt-3 inputMenu">
                                                <div cdkDrag class="input-group mb-1 inputMenu">
                                                    <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <img class="img-fluid" src="assets/images/pdf-icons/equal@2x.png">
                                            </span>
                                                    </div>
                                                    <h4 [innerHTML]="list.options | sanitizeHtml" class="form-control mb-0 pt-4 pb-5 overflow-auto"></h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 mt-5" *ngIf="item.is_correct == 'true' || item.is_correct == 'false'">
                                        <label><b>Correct Answer</b></label>
                                        <div class="col-6">
                                            <div *ngFor="let list of item.answer; let k=index" class="input-group mb-3 mt-3 inputMenu">
                                                <div class="input-group mb-1 inputMenu">
                                                    <div class="input-group-prepend">
                                        <span class="input-group-text">
                                            <img class="img-fluid" src="assets/images/pdf-icons/equal@2x.png">
                                        </span>
                                                    </div>
                                                    <h4 [innerHTML]="list.correctAnswer | sanitizeHtml" class="form-control mb-0 pt-4 pb-5 overflow-auto"></h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="item.question_type_id == 20" class="mt-4 px-3 mb-3">
                                    <app-tiny-mice (emitEditorValue)="cfsGetPara($event, i)" [editorPatchValue]= "item.given_answer[0].isSelected == '' ? false : item.given_answer[0].isSelected"
                                                   [height]="120"
                                                   [id]="i+'para'"
                                                   [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                   [showDropBtn]="false"
                                                   [showInputBtn]="false"
                                                   class="mt-2">
                                    </app-tiny-mice>
                                </div>
                                <div *ngIf="item.question_type_id == 24" class="mt-4"  [ngClass]="{'div-disable': checkDisableConditionForQns(item)}">
                                    <div *ngFor="let sec of item.subQuestions; let j = index" class="mb-3">
                                        <div class="row d-flex justify-content-start">
                                            <div>
                                                <button class="btn-outline-primary question-no-big">{{j+1}}</button>
                                            </div>
                                            <div class="pl-4 align-self-center passage-inner" [innerHTML]="sec.question | sanitizeHtml"></div>
                                        </div>
                                        <div *ngIf="sec.question_type_id == '1' || sec.question_type_id == '2'" class="mt-3">
                                            <div [ngClass]="{'div-disable': studentContentStatus != '1' && studentContentStatus != '2'}" class="row mb-2">
                                                <div (click)="cfsPassageMultiChoice(i, j, k, sec)" *ngFor="let option of sec.given_answer; let k = index" [ngClass]="{'student-selected' : option.isSelected == k.toString()}" class="dropdown-list overflow-auto col-md-6 mb-3 mx-3 p-2" style="max-height: 20rem"><span [innerHTML]="option.options | sanitizeHtml" class="remove-margin-bottom"></span></div>
                                            </div>
                                            <div class="col-md-12 mt-4 mb-2 px-0" *ngIf="sec.is_correct == 'true' || sec.is_correct == 'false'">
                                                <label><strong>Correct Answer :</strong></label>
                                                <div *ngFor="let option of sec.answer; let k = index" [ngClass]="{'student-selected' : option.correctAnswer !== ''}" class="dropdown-list col-md-6 mb-3 mx-3 p-2 overflow-y-scroll" style="max-height: 20rem">
                                                    <span [innerHTML]="sec.options[k].options | sanitizeHtml" class="remove-margin-bottom"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="sec.question_type_id == '5' || sec.question_type_id == '7'" class="table-flexible">
                                            <table [ngClass]="{'div-disable': studentContentStatus != '1' && studentContentStatus != '2'}" class="table px-3 table-bordered text-center mt-3 mb-3">
                                                <thead>
                                                <tr>
                                                    <th>Questions</th>
                                                    <th *ngFor="let list of sec.answer; let l=index" [innerHTML]="list | sanitizeHtml" class="remove-margin-bottom"></th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let list of sec.given_answer; let k=index">
                                                    <td [innerHTML]="list.options" class="remove-margin-bottom"></td>
                                                    <td *ngFor="let ans of sec.answer; let l=index">
                                                        <input (click)="cfsGetChooseTable(sec, j, k, l)" *ngIf="sec.question_type_id == '5'" [checked]="sec.given_answer[k].isSelected == '' ? false : sec.given_answer[k].isSelected == l.toString()" class="radio_animated" name="{{i}}choose{{k}}passas{{j}}" type="radio">
                                                        <input (click)="cfsGetChooseTable(sec, j, k, l)" *ngIf="sec.question_type_id == '7'" [checked]="splitMultiChoose(sec.given_answer[k].isSelected, l)" type="checkbox">
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>

                                            <div class="col-md-12 my-4 px-0 table-flexible" *ngIf="sec.is_correct == 'true' || sec.is_correct == 'false'">
                                                <label><strong>Correct Answer :</strong></label>
                                                <table class="table table-bordered text-center div-disable">
                                                    <thead>
                                                    <tr>
                                                        <th>Questions</th>
                                                        <th *ngFor="let list of sec.answer; let k=index" [innerHTML]="list | sanitizeHtml" class="remove-margin-bottom"></th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr *ngFor="let list of sec.given_answer; let j=index">
                                                        <td [innerHTML]="list.options | sanitizeHtml" class="remove-margin-bottom"></td>
                                                        <td *ngFor="let ans of sec.answer; let k=index">
                                                            <input *ngIf="sec.question_type_id == '5'" [checked]="sec.heading_option[j].correctActive === k" class="radio_animated" name="{{i}}choosesingleCorrect{{j}}corect" type="radio">
                                                            <input *ngIf="sec.question_type_id == '7'" [checked]="patchCorrectMultiChoiceAnswer(sec.heading_option, k , j)" id="chooseMultipass{{i}}{{j}}{{k}}" type="checkbox">
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div *ngIf="sec.question_type_id == '10'">
                                            <div *ngFor="let data of sec.given_answer;let k = index" class="col-md-6 mt-3 mb-3 px-1">
                                                <label>Input - {{k+1}}</label>
                                                <input (input)="cfsGetInput($event, j, k, sec)" *ngIf="sec.editor_type == 1"
                                                       [readOnly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                       [value]="data.isSelected" class="form-control" type="text">
                                                <app-tiny-mice (emitEditorValue)="cfsGetInput($event, j, k, sec)" *ngIf="sec.editor_type != 1" [editorPatchValue]= "data.isSelected == '' ? false : data.isSelected"
                                                               [height]="120"
                                                               [id]="j+'inputPass'+k+'ssa'+i"
                                                               [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                               [showDropBtn]="false"
                                                               [showInputBtn]="false"
                                                               class="mt-2">
                                                </app-tiny-mice>
                                            </div>

                                            <div class="col-md-12 mt-5 px-0" *ngIf="sec.is_correct == 'true' || sec.is_correct == 'false'">
                                                <label><b>Correct Answer</b></label>
                                                <div *ngFor="let data of sec.options; let j = index" class="col-md-6 mt-3 mb-3">
                                                    <label>Input - {{j+1}}</label>
                                                    <div class="form-span">
                                                        <div [innerHTML]="data.options[0].value | sanitizeHtml"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="sec.question_type_id == '20'" class="mt-3 mb-2">
                                            <app-tiny-mice (emitEditorValue)="cfsGetPassageEssay($event, j, sec)" [editorPatchValue]= "sec.given_answer[0]?.isSelected == '' ? false : sec.given_answer[0]?.isSelected"
                                                           [height]="200"
                                                           [id]="j+'essayPass'"
                                                           [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                           [showDropBtn]="false"
                                                           [showInputBtn]="false"
                                                           class="mt-2">
                                            </app-tiny-mice>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="item.question_type_id == 28" class="mt-4 px-3 mb-3">
                                    <app-tiny-mice (emitEditorValue)="cfsGetHighlight($event, i)" [editorPatchValue]= "item.given_answer[0]?.isSelected == '' ? item.options[0].options : item.given_answer[0]?.isSelected"
                                                   [height]="120"
                                                   [id]="i+'delta'"
                                                   [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                   [showDropBtn]="false"
                                                   [showInputBtn]="false"
                                                   class="mt-2">
                                    </app-tiny-mice>
                                </div>
                                <div *ngIf="item.question_type_id == 40 || item.question_type_id == 41" class="mt-4 mb-4">
                                    <div class="col-12 mt-0 d-flex justify-content-center">
                                        <app-graph-component (valueChange)="cfsgetGraphValue($event, i)"
                                                             [editMode]="studentContentStatus == '1' || studentContentStatus == '2'"
                                                             [editPatchValue]="item.given_answer[0].correctAnswer ? parseVal(item.given_answer[0].correctAnswer) : false"
                                                             [graphId]="'graphAnswering'+i"
                                                             [questionType]="item.question_type_id"></app-graph-component>
                                    </div>
                                    <div  class="col-md-12 mt-2">
                                        <app-tiny-mice (emitEditorValue)="cfsGetGraghEditor($event, i)" [editorPatchValue]= "item.student_editor_answer == '' ? false : item.student_editor_answer"
                                                       [height]="120"
                                                       [id]="i+'explaino'"
                                                       [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                       [showDropBtn]="false"
                                                       [showInputBtn]="false"
                                                       class="mt-2">
                                        </app-tiny-mice>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4" *ngIf="studentContentStatus == '1' || studentContentStatus == '2'" >
                            <div class="col-md-12">
                                <button class="btn pull-right btn-primary ml-3" (click)="checkLastQuestion(i, last)">Next <i class="fa fa-long-arrow-right ml-1"></i></button>
                                <button class="btn pull-right btn-outline-primary" (click)="tryAgainButton()" *ngIf="checkQuestionId(item)?.is_correct == 'partially-completed' && !tryAgainButtonEnabled">Try Again <i class="fa fa-repeat ml-1" aria-hidden="true"></i></button>
                            </div>
                        </div>
                    </div>

                    <div class="card px-3 pt-3 pb-4">
                        <div class="card-body">
                            <div class="row">
                                <label class="ml-2"><strong>WorkSpace :</strong></label>
                                <div class="col-12 px-3">
                                    <app-tiny-mice (emitEditorValue)="getWorkSpaceValue($event, i)"
                                                   [editorPatchValue]="item.PatchData && item.question_type_id != '24' ? item.student_roughdata :
                                            item.PatchData && item.question_type_id == '24' ? item.subQuestions[0]?.student_roughdata :false"
                                                   [height]="140"
                                                   [readonly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                                   [showDropBtn]="false"
                                                   [showInputBtn]="false">
                                    </app-tiny-mice>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card p-3">
                        <div class="card-body">
                            <div class="row">
                                <label class="ml-2"><strong>FeedBack :</strong></label>
                                <div class="col-12 px-3">
                                <textarea (input)="getQueries($event, i, 0, 'scratch')" [readOnly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                          [value]="item.question_type_id != '24' ? item.student_feedback : item.subQuestions[0]?.student_feedback" class="form-control" cols="30" placeholder="Please Enter the Feedback" rows="3"></textarea>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-md-12">
                                    <button (click)="submitQueries(i, 0, 'scratch')" *ngIf="queries != '' && queriesIndex == 'id'+i" class="pull-right btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <label><strong>Overall FeedBack:</strong></label>
                            <textarea [(ngModel)]="totalFeedBack" class="form-control" [readOnly]="studentContentStatus != '1' && studentContentStatus != '2'"
                                      placeholder="Please Enter the Overall Feedback" cols="30" rows="3"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-3" *ngIf="showQuestion == i">
                <div class="card">
                    <div class="card-body" style="background: #ececec">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center pr-0">
                                <h5 class="mt-2">Question Answered</h5>
                            </div>
                            <div class="col-12 paddingDetails">
                                <div class="card align-items-center px-4 py-5">
                                    <h4><b>{{numOfQuestionAnswered()}}</b></h4>
                                    <h4></h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body" style="background: #ececec">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center">
                                <h5 class="mt-2">Time Elapsed</h5>
                            </div>
                            <div class="col-12 paddingDetails">
                                <div class="card align-items-center px-4 py-5">
                                    <h4 *ngIf="getElapsedTime() as elapsed">
                                        <b> {{elapsed.hours}} {{elapsed.minutes}} {{elapsed.seconds}} </b>
                                    </h4>
                                    <h4></h4>
                                    <h5><b>HR MIN SEC</b></h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body" style="background: #ececec">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center">
                                <h5 class="mt-2">Score</h5>
                            </div>
                            <div class="col-12 paddingDetails">
                                <div class="card align-items-center px-4 py-5">
                                    <h4><b>{{checkAutoGradeQns == '2' && (studentContentStatus == '1' || studentContentStatus == '2') ? percentage : '-'}}</b></h4>
                                    <h4></h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<ng-template #submitAlert let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title letter">Submit {{contentType}}</h4>
    </div>
    <div class="modal-body">

        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <p *ngIf="buttonClicked == 'submit'">Once submitted, you will not be able to edit your answers</p>
                    <p *ngIf="buttonClicked == ''">Yay! Your final effort and last question are here. The subsequent assignment will be turned in for evaluation after clicking the OK button</p>
                </div>
            </div>
            <!-- Container-fluid Ends-->
        </div>
        <div class="modal-footer d-flex justify-content-right mt-2">
            <button (click)="buttonClicked = '';close()" class="btn btn-primary-outline" type="button">Cancel</button>
            <button (click)="buttonClicked = '';saveAnswer('4', 'exit', true)" class="btn btn-primary" type="button">Ok</button>
        </div>
    </div>
</ng-template>

<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title font-weight-bold" id="modal-basic-title">Resources</h4>
    </div>
    <div class="modal-body">
        <!-- Container-fluid starts-->
        <div class="container-fluid">
            <div class="row" *ngFor="let item of linkdata; let j = index">
                <div class="col-md-12">
                    <a class="cursor" href="{{item.link}}" target="_blank">
                        <span style="overflow: scroll; overflow-y: hidden" title="{{item.link}}">{{item.name}}</span>
                    </a>
                    <hr *ngIf="j != linkdata.length - 1">
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="close()">Cancel</button>
    </div>
</ng-template>
